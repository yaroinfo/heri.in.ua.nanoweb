const NW_LS_ALERT="nwAlert";document.querySelectorAll("[nwalert]").forEach((e=>{const t=e.getAttribute("nwalert"),n=(localStorage.getItem("nwAlert")||"").split("\n").filter((e=>""!=e));n.includes(t)&&e.classList.add("collapsed"),e.addEventListener("click",(()=>{if(e.classList.toggle("collapsed"),e.classList.contains("collapsed"))n.push(t);else{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}localStorage.setItem("nwAlert",n.join("\n"))}))})),document.querySelectorAll("template[nw-clone]").forEach((e=>{const t=e.getAttribute("nw-clone"),n=`nwclone[name="${t}"]`;document.querySelectorAll(n).forEach((n=>{const o=document.importNode(e.content,!0).firstElementChild;Array.from(n.attributes).forEach((e=>{o.setAttribute(e.name,e.value)})),function(e,t,n){const o=e.split("."),r=n.getAttribute("href");if("file"===o[0]&&r){const e=r.split("/").pop(),n=e.split("."),o=n.pop();!function(e,t){for(const n in t){const o=t[n];e.querySelectorAll(`[nw="${n}"]`).forEach((e=>e.innerText=o))}}(t,{href:r,filename:e,basename:n[0],ext:o})}}(t,o,n),o.removeAttribute("nw-clone"),n.parentNode.replaceChild(o,n)}))})),NW_LS_DEBUG_MODE="nwDebugMode",window.nwCHECK="✓",window.nwTIMES="✗",window.nwFindAllParents=(e,t="*",n=0)=>{const o=[];let r=e.parentElement;for(;r&&r!==document.body&&!(n instanceof HTMLElement&&r===n)&&!(r.matches(t)&&(o.push(r),n>0&&n==o.length));)r=r.parentElement;return o},window.nwFindParent=(e,t="*",n=0)=>{const o=window.nwFindAllParents(e,t,n||1);return o.length?o[0]:null},window.nwScrollTo=(e,t=!1)=>{const n=document.querySelectorAll(".sticky-top");let o=0,r=0;n.forEach((e=>{o+=e?e.offsetHeight:0,r+=e?parseInt(window.getComputedStyle(e).marginTop)+parseInt(window.getComputedStyle(e).marginBottom):0}));let l=e.getBoundingClientRect().top+window.scrollY;return t&&(l-=e.offsetHeight),window.scrollTo({top:l-o-r,behavior:"smooth"}),!0},window.nwSupportsES2018=()=>{try{return new RegExp("\\p{L}","u"),!0}catch(e){return!1}},window.nwTruncateText=(e,t=255)=>{let n=e;if(e.length>t){n=e.substring(0,t);let o=n.lastIndexOf(" ");o>0&&(n=n.substring(0,o)),n+="..."}return n},window.nwEscapeHTML=e=>e.replace(/[&<>"']/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]})),window.nwBreakpoint=e=>{const t=getComputedStyle(document.documentElement).getPropertyValue(`--bs-breakpoint-${e}`).trim();return parseInt(t,10)},window.nwSetDebugMode=e=>{localStorage.setItem(NW_LS_DEBUG_MODE,e?"1":"0"),console.log("Debug mode is "+(e?"%cEnabled "+window.nwCHECK:"%cDisabled "+window.nwTIMES),`color: ${e?"green":"red"}; font-size: 144%`)},window.nwIsDebugMode=()=>!!parseInt(localStorage.getItem(NW_LS_DEBUG_MODE)||"0",10),window.nwCreateHTML=(e,t={},n=null,o=!1)=>{const r=document.createElement(e);for(const e in t)r.setAttribute(e,t[e]);function l(e){if(e instanceof HTMLElement)r.appendChild(e);else if("string"==typeof e){const t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)r.appendChild(t.firstChild)}else Array.isArray(e)?e.forEach((e=>l(e))):window.nwIsDebugMode()&&console.error("Cannot append item",e)}return o?Array.isArray(n)?n.forEach((e=>l(e))):l(n):n&&(r.innerText=n),r},window.nwL=(e,t,n=null)=>{if(Array.isArray(e)){let n=t[e[0]]||e[0];if("string"!=typeof n)return console.error("Impossible to translate",e),"Impossible to translate []";const o=[];return e.slice(1).forEach(((e,t)=>{"object"==typeof e?Object.entries(e).forEach((([e,t])=>o.push([`{${e}}`,t]))):o.push([`$${t+1}`,e])})),o.forEach((([e,t])=>n=n.replaceAll(e,t))),n}return void 0===t[e]?null===n?e:n:t[e]},window.nwCopy=function(e){return Array.isArray(e)?e.slice():"object"==typeof e?null===e?null:Object.assign({},e):e},window.nwRender=function(e,t){for(const n in t){if(n.startsWith("$"))continue;const o=`nw-${n}`;e.querySelectorAll(`[${o}]`).forEach((e=>{const r=e.getAttribute(o);if("text"===r)e.textContent=t[n];else if("html"===r)e.innerHTML=t[n];else{const o=r||n,l=e.getAttribute(o);""===t[n]&&""!==l||e.setAttribute(o,t[n])}}))}return e},window.nwReadOpts=function(e,t={foo:""},n={foo:":)"}){const o={};return e.split(";").forEach((e=>{const n=e.trim().split(":"),r=n[0].trim();if(""===r)return;const l=n.slice(1).join(":").trim();!0!==t&&void 0===t[r]||(o[r]=l,Array.isArray(t[r])?o[r]=l.split(","):"number"==typeof t[r]?o[r]=Number.isInteger(t[r])?parseInt(l,10):parseFloat(l):"boolean"==typeof t[r]?o[r]=["true","on","1",1,!0].includes(l):"object"==typeof t[r]&&null!==typeof t[r]&&(o[r]=new URLSearchParams(l)))})),Object.assign({},n,o)},window.nwCastTo=function(e,t){return"string"==typeof t?String(e):"number"==typeof t?Number("string"==typeof e?e.replace(/[^\d\.]+/g,""):e):"boolean"==typeof t?Boolean(e):e},window.nwLog=function(){const e=[];let t=0;for(const n of arguments)"boolean"==typeof n&&0===t?(e.push("%c"+(n?window.nwCHECK:window.nwTIMES)),e.push(`color: ${n?"lightgreen":"red"}; font-weight: bold;`)):e.push(n),++t;return e},window.nwRedirect=function(e){const t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click()};const NW_LS_SETTINGS_DARKMODE="nw.DarkMode",NW_SELECTOR_DARKMODE_SWITCH='[nw="DarkMode"]',NW_DARKMODE=1,NW_DARKMODE_OFF=0;window.NW_DARKMODE=1,window.NW_DARKMODE_OFF=0,window.nwDetectDarkMode=()=>0,window.nwEnableDarkMode=e=>!1,window.nwIsDarkMode=()=>!1,(()=>{window.nwEnableDarkMode=e=>{console.log("Dark mode is",e?"enabled":"disabled"),localStorage.setItem("nw.DarkMode",e),document.dispatchEvent(new Event("darkModeChange"));const t=null===e?window.matchMedia("(prefers-color-scheme: dark)").matches:parseInt(e);document.documentElement.setAttribute("data-bs-theme",t?"dark":"light")},window.nwDetectDarkMode=()=>{let e=localStorage.getItem("nw.DarkMode")||0;return null===e&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e=1),null===e&&"dark"===document.documentElement.getAttribute("data-bs-theme")&&(e=1),parseInt(e)};const e=e=>{document.querySelectorAll('[nw="DarkMode"]').forEach((t=>t.checked=e))};window.nwEnableDarkMode(localStorage.getItem("nw.DarkMode")||0),window.nwIsDarkMode=()=>1===parseInt(localStorage.getItem("nw.DarkMode")),document.addEventListener("DOMContentLoaded",(()=>{let t=!1;document.querySelectorAll('[nw="DarkMode"]').forEach((n=>{n.checked=1===window.nwDetectDarkMode(),n.addEventListener("change",(t=>{window.nwEnableDarkMode(t.currentTarget.checked?1:0),e(n.checked)})),document.addEventListener("darkModeChange",(()=>n.checked=1===window.nwDetectDarkMode())),t||(window.nwEnableDarkMode(n.checked?1:0),e(n.checked),t=!0)}))}))})(),document.querySelectorAll("email").forEach((function(e){const t=e.getAttribute("a"),n=parseInt(e.getAttribute("s"),10),o=e.getAttribute("q")||"",r=function(e,t=1){return e.split("").map((function(e){return String.fromCharCode(e.charCodeAt(0)-t)})).join("")}(t,n),l=document.createElement("a");l.href="mailto:"+r,o&&(l.href+="?"+o),l.innerHTML=e.innerHTML.replace(t,r),Array.from(e.attributes).forEach((e=>{"a"!==e.name&&l.setAttribute(e.name,e.value)})),e.parentNode.replaceChild(l,e)})),(()=>{"use strict";const e=document.querySelectorAll("form[novalidate]"),t=window.nwCreateHTML;Array.from(e).forEach((e=>{e.addEventListener("submit",(async n=>{if("false"===e.getAttribute("nw-form"))return;if(n.preventDefault(),e.classList.add("was-validated"),!e.checkValidity())return void n.stopPropagation();const o=e.getAttribute("action"),r=e.getAttribute("method")||"POST",l=new FormData(e),a=e.parentElement;let i="danger",c="";try{const t=await fetch(o,{method:r,body:l});if(c=await t.text(),t.ok)i="success";else if(401===t.status)i="warning";else if(400===t.status){i="danger";for(const t of c.split("\n")){const n=t.split(": "),o=n[0],r=e.querySelector(`[name="${o}"]`);if(!r){console.error("Cannot find a field:",o);continue}const l=window.nwFindParent(r,'[nw="input-container"]').querySelector(".invalid-feedback");l?(l.textContent=n.slice(1).join(": "),l.style.display="block",r.classList.add("is-invalid"),e.classList.remove("was-validated")):c=t}}}catch(e){c=e.message||"Network error, please try again.",console.error("Submission error:",e)}const s=t("div",{class:`alert alert-${i}`},c);if("success"===i)if(a){new bootstrap.Collapse(a,{toggle:!1}).hide(),a.insertAdjacentElement("beforebegin",s)}else e.insertAdjacentElement("beforebegin",s);window.nwScrollTo(s)}),!1)}))})();const NW_FORM_SCROLL_TIMEOUT=333;(()=>{"use strict";const e=document.querySelectorAll("form[nw-form]"),t={slider:0};function n(t,n=null){const o=window.nwReadOpts(t,!0,{})||{};let r=!1;Object.entries(o).forEach((([t,n])=>{e.forEach((e=>{let o=!1;e.querySelectorAll(`[name="${t}"]`).forEach((e=>{o=!0,r=!0,e.value=n})),o&&setTimeout((()=>{window.nwScrollTo(e)}),333)}))})),!r&&n&&window.nwRedirect(n)}if(window.location.search){const e=new URLSearchParams(window.location.search).get("nw-form");e&&n(e)}Array.from(e).forEach((e=>{window.nwReadOpts(e.getAttribute("nw-form"),t,t);const n=e.querySelector("[nw-progress]");e.querySelectorAll("[nw-prev], [nw-next]").forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const o=window.nwFindParent(this,"[nw-step]"),r=this.getAttribute("nw-prev")||this.getAttribute("nw-next"),l=e.querySelector(`[nw-step="${r}"]`),a=e.querySelectorAll("[nw-step]"),i=this.hasAttribute("nw-prev");let c=!0;if(i||o.querySelectorAll("input, select, textarea").forEach((e=>{e.checkValidity()?(e.classList.remove("is-invalid"),e.classList.add("is-valid")):(c=!1,e.classList.remove("is-valid"),e.classList.add("is-invalid"))})),c){a.forEach((e=>e.classList.add("d-none")));const e=Array.from(a),t=e.indexOf(l)+1;n&&(n.style.width=`${parseInt(100*t/e.length)}%`),l.classList.remove("d-none")}}))})),e.querySelectorAll("select[name]").forEach((t=>{t.addEventListener("change",(function(n){const o=t.options[t.selectedIndex].getAttribute("nw-filter");if(o){const t=JSON.parse(o);for(const[n,o]of Object.entries(t))e.querySelectorAll(`select[name="${n}"], select[plural-name="${n}"]`).forEach((e=>{let t=!1;const n=Array.from(e.querySelectorAll("option"));if(n.forEach(((n,r)=>{Array.isArray(o)&&o.includes(n.value)||!Array.isArray(o)&&o==n.value?n.removeAttribute("disabled"):(n.setAttribute("disabled",!0),r===e.selectedIndex&&(t=!0))})),t){const t=n.indexOf(e.querySelector("option:not([disabled])"));e.selectedIndex=t}}))}}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("a[nw-form], button[nw-form]").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");t&&history.pushState({},"",t);n(this.getAttribute("nw-form"),t)}))}))}))})(),(()=>{"use strict";document.querySelectorAll("select[nw-depend]").forEach((e=>{const t=(e.getAttribute("nw-depend")||"").split(":"),n=t[0],o=t[1]||"value";document.querySelectorAll(n).forEach((t=>{function n(){e.querySelectorAll("option").forEach((e=>{""===e.value||e.getAttribute(o)===t.value?e.classList.remove("d-none"):e.classList.add("d-none")}))}t.addEventListener("change",n),n()}))}))})(),(()=>{function e(e){const t=function(e){let t=e.closest("[nw=range-value]");if(t||(t=e.parentElement.querySelector("[nw=range-value]")),!t){const n=window.nwFindParent(e,'[nw="input-container"]');n&&(t=n.querySelector("[nw=range-value]"))}return t}(e);return t&&("INPUT"===t.tagName?t.value=e.value:t.textContent=e.value),{$value:t,input:e}}function t(e,t){t.value=this.value}function n(){document.querySelectorAll('input[type="range"]').forEach((n=>{n.addEventListener("input",(()=>{e(n)})),n.addEventListener("render",(()=>{e(n)}));const{$value:o}=e(n);o&&"INPUT"===o.tagName&&o.addEventListener("input",(e=>{t.apply(o,[e,n])}))}))}document.addEventListener("DOMContentLoaded",(()=>{n()})),window.nwFormsRangeValueAttachListeners=n})(),(()=>{const e=document.getElementById("galleryModal");if(!e)return;const t=e.querySelector(".carousel-inner");if(!t)return;const n=document.querySelectorAll("img[nw-gallery]"),o=new bootstrap.Modal(e);function r(){const e=this.getAttribute("nw-gallery")||"*",r=Array.from(n).filter((t=>t.getAttribute("nw-gallery")===e));let l=0;t.innerHTML="",r.forEach(((e,n)=>{e.src===this.src&&(l=n);const o=document.createElement("div");o.className="carousel-item "+(0===n?"active":"");const r=document.createElement("img");r.src=e.getAttribute(e.hasAttribute("href")?"href":"src"),r.className="d-block w-100",r.alt=e.alt,o.appendChild(r),t.appendChild(o)}));new bootstrap.Carousel(t).to(l),o.show()}n.forEach((e=>{e.addEventListener("click",r)}))})();const NW_SELECTOR_HOTKEY="[nw-hotkey]",NW_ATTRIBUTE_HOTKEY="nw-hotkey";window.nwHotkeys=[],window.nwHotkeysAttach=(e=document,t="[nw-hotkey]",n="nw-hotkey")=>[],(()=>{window.nwHotkeysAttach=(e=document,t="[nw-hotkey]",n="nw-hotkey")=>{const o=[];return e.querySelectorAll(t).forEach((e=>{e.getAttribute(n).split("|").forEach((t=>{const n={key:[]},r=t.split("+");for(let e of r)e=e.toLowerCase(),["cmd","meta","win"].includes(e)?n.metaKey=!0:["shift"].includes(e)?n.shiftKey=!0:["ctrl"].includes(e)?n.ctrlKey=!0:["alt"].includes(e)?n.altKey=!0:n.key.includes(e)||n.key.push(e);let l=!1;for(const t of window.nwHotkeys)if(t.$el.outerHTML===e.outerHTML){l=!0;break}l||o.push({required:n,$el:e})}))})),window.nwHotkeys=[...window.nwHotkeys,...o],o};document.addEventListener("keydown",(e=>{("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||e.metaKey||e.altKey||e.ctrlKey)&&window.nwHotkeys.forEach((t=>{let n=!0;["metaKey","shiftKey","ctrlKey","altKey"].forEach((o=>{Boolean(t.required[o])===e[o]||(n=!1)})),t.required.key.includes(e.key.toLowerCase())?n&&(["INPUT","TEXTAREA","SELECT"].includes(t.$el.tagName)?["RADIO","CHECKBOX"].includes(t.$el.getAttribute("type").toUpperCase())?t.$el.click():t.$el.focus():t.$el.click(),e.preventDefault()):n=!1}))})),window.nwHotkeysAttach()})();const NW_ATTRIBUTE_LAZY_SRC="nwlazy-src",NW_LS_COMPARE_ITEMS="nw-compare";(()=>{function e(e,t,n){if("object"==typeof e){let o=[null,null];if(e.min&&(o[0]=e.min),e.max&&(o[1]=e.max),o.some((e=>null!==e))){const e=function(e){if(!(e&&e instanceof HTMLElement))return null;switch(e.tagName){case"INPUT":return"checkbox"===e.type||"radio"===e.type?e.checked?e.value:null:e.value;case"SELECT":case"TEXTAREA":return e.value;default:return null}}(n[t]);return(null===o[0]||e>=o[0])&&(null===o[1]||e<=o[1])&&e}}if(n){const o=n[t];if(!o)return!1;const r=o.getAttribute("nw-key")||!1;if(!r)return!1;const l=r.split("."),a=l[0],i=n[a]?.[l[1]||"value"]||null;if(i)return e[i];let c=[];for(const[t,n]of Object.entries(e))c=[...c,...n];return c}return!1}const t=new URLSearchParams(window.location.search),n={_min:(e,t)=>e>=t,_max:(e,t)=>e<=t,_exact:(e,t)=>e==t},o=localStorage.getItem("nw-compare")||"[]";let r,l=JSON.parse(o);function a(t){const{fn:n,key:o,value:r,filterValue:l,filterKey:a,$inputs:i,$filter:c}=t;let s=1;if(Array.isArray(r)){const e=window.nwCastTo(l,r[0]||!1);return r.some((t=>n.apply(this,[t,e])))}if("object"==typeof r){const t=e(r,a,i);if(!1===t)return!1;if(Array.isArray(t)){const e=window.nwCastTo(l,t[0]||!1);return t.some((t=>n.apply(this,[t,e])))}{const e=window.nwCastTo(l,t||!1);return n.apply(this,[t,e])}}o.toLowerCase().endsWith("rate")&&(s=100);const d=window.nwCastTo(l,s*(r||!1));return n.apply(this,[r*s,d])}function i(e,n){if(n.values&&n.values instanceof URLSearchParams){const t=n.values.get(e);if(null!==t)return t}return t.get(e)}function c(e,t,o){window.nwIsDebugMode()&&console.log.apply(this,window.nwLog("Filtering list",e,t));const r=o.detail||{},l=[];e.querySelectorAll("[nw=item]").forEach((e=>{const o={},c=[!0];(t.filter||[]).forEach((n=>{if(n.endsWith("s")){const r=`nw-${n}`,l=e.hasAttribute(r)?e.getAttribute(r).split("|"):[],a=i(n.slice(0,n.length-1),t);o[n]=l,null!==a&&c.push(l.includes(a))}else{let t=null;if(e.querySelectorAll(`[nw-${n}]`).forEach((e=>{t=e.getAttribute(`nw-${n}`),o[n]=t})),null!==t){const e=i(n);null!==e&&c.push("date"===n?t.startsWith(e):t===e)}}})),Array.from(e.querySelectorAll("*")).filter((e=>Array.from(e.attributes).some((e=>e.name.startsWith("nw-"))))).forEach((e=>Array.from(e.attributes).forEach((e=>{e.name.startsWith("nw-")&&(o[e.name]=e.value)}))));const s=JSON.parse(e.getAttribute("nw-filter")||null);o.filters=s,l.push(o),s&&Object.entries(s).forEach((([e,t])=>{let[o,l,i,s,d,u]=function(e,t){const{$filter:o,$inputs:r,filter:l}=t;if(!l)return[!1];if(void 0!==l[e])return[e,l[e],n._exact,r,o,!1];for(const[t,a]of Object.entries(n)){const n=e.endsWith(t)?e.slice(0,e.length-t.length):`${e}${t}`;if(void 0!==l[n])return[n,l[n],a,r,o,e.endsWith(t)]}return[!1]}(e,r);if(!o)return;if(""===l)return;if(u){const e=window.nwCopy(l);l=window.nwCopy(t),t=window.nwCastTo(e,l)}const w=a.apply(this,[{fn:i,key:e,value:t,filterValue:l,filterKey:o,$inputs:s,$filter:d}]);window.nwIsDebugMode()&&console.log.apply(this,window.nwLog(w,"=",i.name,o,t,l)),c.push(w)})),c.every((e=>!!e))?(e.classList.remove("off"),e.classList.add("on")):(e.classList.remove("on"),e.classList.add("off"))})),window.nwLoadedList={posts:l,$list:e,opts:t}}function s(e,t){Array.from(t.querySelectorAll("[nw=item]:not(.on)")).length?e.classList.remove("disabled"):e.classList.add("disabled")}function d(e,t,n,o){const r=Array.from(t.querySelectorAll("[nw=item]:not(.on)")).slice(0,n);r.forEach((e=>{e.classList.add("on"),o.lazy&&e.querySelectorAll("img[nwlazy-src]").forEach((e=>{e.setAttribute("src",e.getAttribute("nwlazy-src"))}))})),r.length&&window.nwScrollTo(r[0]),s(this,t)}function u(e,t,n){if(!n.template)return;const o=document.querySelector(n.template);if(!o)return;const r=document.createDocumentFragment(),l=t.querySelector("[nw=more]"),a=n.perPage,i=n.first||a;e.forEach(((e,t)=>{const l=Object.assign({},e,{href:e.$uri+".html"}),a=window.nwRender(o.content.cloneNode(!0),l),c=a.querySelector("[nw=item]");t<i&&c?c.classList.add("on"):n.lazy&&c.querySelectorAll("img[src]").forEach((e=>{e.setAttribute("nwlazy-src",e.getAttribute("src")),e.setAttribute("src","")})),r.appendChild(a)})),l?(t.insertBefore(r,l),l.addEventListener("click",(function(e){d.apply(this,[e,t,a,n])})),s(l,t)):t.appendChild(r)}async function w(e,t){const n=t.url.startsWith("/search/")?t.url.slice(7):t.url;try{let{posts:o}=await window.nwSearchIndexFile(n);o=function(e,t){return e.filter((e=>{const n=[];return(t.filter||[]).forEach((o=>{if(o.endsWith("s")){const r=e[o]||[],l=i(o.slice(0,o.length-1),t);null!==l&&n.push(r.includes(l))}else{let r=e[o]||null;if(null!==r){const e=i(o,t);null!==e&&n.push("date"===o?r.startsWith(e):r===e)}}})),n.every((e=>!!e))}))}(o,t),window.nwLoadedList={posts:o,$list:e,opts:t},u(o,e,t)}catch(e){window.nwIsDebugMode()&&console.error(e)}}function h(e){return(r||window.location.pathname)+"?i="+e}function f(e){return l.includes(h(e))}function p(e){return!!Array.isArray(e)&&(localStorage.setItem("nw-compare",JSON.stringify(e)),l=e,!0)}function m(e,t,n){e?(t.classList.remove("off"),t.classList.add("on")):(t.classList.remove("on"),t.classList.add("off")),g()}function g(e=null){null===e&&(e=[],document.querySelectorAll("[nw=item]").forEach(((t,n)=>{f(n)&&e.push(n)})));const t=document.getElementById("comparePanel"),n=t.querySelector("#compareTable");t&&n&&(e.length?t.classList.add("show"):t.classList.remove("show"),t.querySelectorAll('[nw="compare-count"]').forEach((t=>t.textContent=e.length)),n.querySelectorAll("tr").forEach((t=>{t.querySelectorAll("th, td").forEach(((t,n)=>{t.style.display=e.includes(n-1)||!n?"table-cell":"none"}))})))}function y(e,t,n,o,r){e.preventDefault();const a=function(e){const t=l.indexOf(e);let n=!0;return t>-1?(l.splice(t,1),n=!1):l.push(e),p(l),n}(h(o));m(a,t)}function E(){const e=h(""),t=[];(l||[]).forEach((n=>{n.startsWith(e)||t.push(n)})),p(t),g([])}const b=new Event("nwFilter");document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("[nw=list]").forEach((e=>{const t=function(e=""){return window.nwReadOpts(e,{filter:[],values:{},perPage:1,lazy:0,template:"",url:"",root:""},{filter:["date","cats"],values:{},lazy:null,perPage:null,template:null,url:null,root:null})}(e.getAttribute("nwopts")||"");t.root&&(r=t.root),e.addEventListener("nwFilter",(function(n){window.nwIsDebugMode()&&console.log({$list:e,opts:t,event:n}),t.url?w(e,t):c(e,t,n)})),e.dispatchEvent(b),e.querySelectorAll("[nw=item]").forEach(((e,t)=>{e.querySelectorAll("[nw=compare]").forEach((e=>{m(f(t),e),e.addEventListener("click",(n=>y(n,e,0,t)))}))}))})),document.querySelectorAll("#comparePanel").forEach((e=>{e.querySelectorAll('[nw-compare="clear"]').forEach((e=>{e.addEventListener("click",E)}))}));const e=document.querySelector("#compareTable"),t=document.querySelector("#comparePanel");if(e&&(e.setAttribute("scrolled",!0),e.addEventListener("hidden.bs.collapse",(e=>{history.replaceState(null,null,window.location.pathname)})),"#compareTable"===window.location.hash)){window.setTimeout((()=>window.nwScrollTo(t,!0)),108);const e=document.querySelector('[href="#compareTable"]');e&&e.dispatchEvent(new Event("click"))}}))})(),(()=>{const e="input[name], select[name], textarea[name]";document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[nw=filter]").forEach((t=>{t.querySelectorAll(e).forEach((n=>{!function(e,t){const n=e.getAttribute("list")||null,o=n&&document.getElementById(n)||null,r=e.getAttribute("nw-key")||null,l=r?e.form[r.split(".")[0]]:null;function a(t){if(t){const n=[];[...t.children].forEach((t=>{e.min=Math.min(e.min||Number.MAX_SAFE_INTEGER,t.value),e.max=Math.max(e.max||0,t.value),n.push(parseFloat(t.value))})),n.length&&(e.step=1),e.steps=n.sort(((e,t)=>e-t))}}function i(t){const n=parseFloat(e.value);let o=e.steps.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e));if(!t||"ArrowRight"!==t.key&&"ArrowUp"!==t.key){if(t&&("ArrowLeft"===t.key||"ArrowDown"===t.key)){const t=e.steps.indexOf(o)-1;t>=0&&(o=e.steps[t])}}else{const t=e.steps.indexOf(o)+1;t<e.steps.length&&(o=e.steps[t])}n!==o&&(e.value=o),e.dispatchEvent(new Event("render"))}o&&(a(o),e.addEventListener("input",i),e.addEventListener("keydown",i)),l&&l.addEventListener("change",(()=>{const t=n.replace("-all",`-${l.value}`),o=document.getElementById(t);o&&(e.setAttribute("list",t),a(o),i())}))}(n),n.addEventListener("change",(o=>function(t,n,o){const r=new URLSearchParams(window.location.search),l=n.getAttribute("name"),a=n.value;a?a!=r.get(l)&&r.set(l,a):r.delete(l),window.history.pushState({},"",`${window.location.pathname}?${r.toString()}`);const i=o.getAttribute("nw-target")||"[nw=list]";document.querySelectorAll(i).forEach((t=>{const n={$filter:o,filter:{},$inputs:{}};o.querySelectorAll(e).forEach((e=>{const t=e.getAttribute("name");n.$inputs[t]=e,n.filter[t]=e.value}));const r=new CustomEvent("nwFilter",{bubbles:!0,detail:n});t.dispatchEvent(r)}))}(0,n,t)))}))}));const t=new URLSearchParams(window.location.search),n=[];document.querySelectorAll("[nw=filter]").forEach((o=>{o.querySelectorAll(e).forEach((e=>{const o=e.getAttribute("name");t.has(o)&&(e.value=t.get(o),n.push(e))}))}));const o=new Event("change");n.forEach((e=>e.dispatchEvent(o))),window.nwFormsRangeValueAttachListeners&&window.nwFormsRangeValueAttachListeners()}))})();const NW_SELECTOR_POSTS_MORE='[nw="LoadMore"]',NW_DATA_PREFIX="nw-";(()=>{const e="nw-";document.addEventListener("DOMContentLoaded",(()=>{function t(e){e.closest("article").classList.add("disabled")}document.querySelectorAll('[nw="LoadMore"]').forEach((function(n){const o=window.nwFindParent(n,`[${e}per-page]`);if(!o||!o.getAttribute(`${e}per-page`))return;const r=o.getAttribute(`${e}count`),l=parseInt(o.getAttribute(`${e}per-page`)),a=Array.from(o.querySelectorAll(`[${e}id]:not([${e}hidden])`)),i=o.querySelectorAll(`.d-none[${e}id]:not([${e}hidden])`),c=o.querySelectorAll(`[${e}id]:not(.d-none)`);!i.length&&c.length>=r&&t(n),n.addEventListener("click",(function(){const i=o.querySelector(`.d-none[${e}id]:not([${e}hidden])`);if(!i)return void n.classList.add("d-none");const c=a.indexOf(i);a.slice(c,c+l).forEach((t=>{t.querySelectorAll(`[${e}src]`).forEach((t=>t.setAttribute("src",t.getAttribute(`${e}src`)))),t.classList.remove("d-none")})),location.hash=`loaded=${c+l}`,c+l>=r&&t(n)})),c.length||n.dispatchEvent(new Event("click"));const s=location.hash.match(/loaded=(\d+)/),d=s?parseInt(s[1],10):0;if(d>0){const e=Math.ceil(d/l)-1;for(let t=0;t<e;t++)n.dispatchEvent(new Event("click"))}}))}))})();const NW_SELECTOR_BS_HAMBURGER_TOGGLER='.hamburger[data-bs-toggle="collapse"]';(()=>{const e=function(e){this.classList.toggle("is-active")};document.querySelectorAll(NW_SELECTOR_BS_HAMBURGER_TOGGLER).forEach((t=>t.addEventListener("click",e)))})(),(()=>{const e=decodeURIComponent(window.location.pathname+window.location.search);document.querySelectorAll(`[href="${e}"]`).forEach((e=>e.classList.add("active")))})();const NW_LS_RECENT_ITEMS="recentGoods";document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[name=nw-add-to-recent]").forEach((e=>{const t=e.getAttribute("extended")||e.value,n=JSON.parse(localStorage.getItem("recentGoods"))||[];t&&!n.includes(t)&&n.push(t),localStorage.setItem("recentGoods",JSON.stringify(n))}))}));const NW_SELECTOR_SCROLL_TO="[nw-scrollto]",NW_ATTRIBUTE_SCROLL_TO="nw-scrollto";(()=>{const e=e=>{if(!e||"#"===e||e.startsWith("#/nw/"))return!1;let t=null;try{t=document.querySelector(e)}catch(e){return window.nwIsDebugMode()&&console.error("Error selecting hash element:",e),!1}return!(!t||t.getAttribute("scrolled"))&&window.nwScrollTo(t)},t=(t,n)=>!(!t||!t.startsWith("#"))&&(n.preventDefault(),window.location.hash=t,e(t),!0),n=e=>{if(t(e.currentTarget.getAttribute("nw-scrollto"),e))return!0;t(e.target.closest("[href]").getAttribute("href"),e)};window.location.hash&&setTimeout((()=>{window.nwIsDebugMode()&&console.log("Scrolling to",window.location.hash);const t=e(window.location.hash);window.nwIsDebugMode()&&console.log("scrolled = "+(t?"YES":"skipped"))}),108),window.addEventListener("hashchange",(t=>{t.preventDefault(),e(window.location.hash)})),document.querySelectorAll('a[href^="#"]').forEach((e=>e.addEventListener("click",n))),document.querySelectorAll("[nw-scrollto]").forEach((e=>e.addEventListener("click",n)))})();const splitSearch=e=>e.split(window.nwSupportsES2018?/[^\p{L}\w\d]+/u:/[\s!;\.\,]+/);window.nwSearchTextValue=null,window.nwSearchResults=[],window.nwSearchTotal=0,window.nwSearchLoadedFiles={},window.nwSearchIndexFile=async function(e=null){const t=e||window.location.pathname.replace(/\.html$/,".txt"),n=`/search${t}`;if(!window.nwSearchLoadedFiles[n]){const e=await fetch(n);if(e.status>=400)return window.nwIsDebugMode()&&console.error("Search.api",e.status,"error in response to",n),{text:"",posts:[],file:n,uri:t};const o=await e.text(),r=o.trim().split("\n\n").map((e=>JSON.parse(e)));r.sort(((e,t)=>new Date(t.date)-new Date(e.date))),window.nwSearchLoadedFiles[n]={text:o,posts:r,file:n,uri:t}}return window.nwSearchLoadedFiles[n]},window.nwSearch=async function(e){if("string"==typeof e&&e.length<2)return{results:[],total:null};if(window.nwSearchTextValue===e)return{results:window.nwSearchResults,total:window.nwSearchTotal};window.nwSearchTextValue=e;const t=document.documentElement.lang,n=Date.now(),o=e.toLowerCase(),r=await fetch("/search/index.json",{cache:"reload"}),l=(await r.json()).version||"",a=await fetch(`/search/${t}.txt?ver=${l}`,{method:"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}}),i=a.headers.get("Content-Encoding"),c=a.headers.get("Content-Length"),s=`search/${t}.txt: ${((Date.now()-n)/1e3).toFixed(2)}sec | ${(c/1024).toFixed(1)}Kb | ${l.slice(0,4)}..${l.slice(-4)}`;i&&i.includes("gzip")?console.log(s):console.error(s);const d=await a.text(),u=d.trim().split("\n\n").map((e=>(e=>{try{const t=JSON.parse(e);return{uri:t.$||"",title:t.t||"",desc:t.d||"",image:t.i||"",body:t.c||"",date:t.a||null}}catch(e){window.nwIsDebugMode()&&console.error(e)}return{}})(e))),w=splitSearch(o.toLowerCase());window.nwSearchStr=o,window.nwSearchTokens=w,window.nwSearchMap={};const h=u.map((({uri:e,title:t,desc:n,image:r,body:l})=>{try{window.nwSearchMap[e]=t;const a=((e,t,n,o,r)=>{const l=n+" "+o+" "+r,a=n.toLowerCase(),i=o.toLowerCase(),c=l.toLowerCase();let s=0,d=0,u=a.trim(),w=i.trim(),h=c.trim(),f=-1;t.forEach((e=>{if(e.length<3)return;u=u.replaceAll(e,""),w=w.replaceAll(e,""),h=h.replaceAll(e,"");const t=c.indexOf(e);if(-1!==t&&(s+=e.length,-1!==f)){const e=Math.abs(t-f);d+=Math.max(0,30-e)}f=t})),s+=100*(a.length-u.length),s+=10*(i.length-w.length),s+=1*(c.length-h.length);let p=0;a.includes(e)&&(p=1e5/Math.abs(e.length-a.length||1));let m=0;i.includes(e)&&(m=1e4/Math.abs(e.length-i.length||1));const g=c.includes(e)?1e3:0;return s+d+p+m+g})(o,w,t,n,l);return{uri:e,title:t,desc:n,image:r,body:l,score:a}}catch(t){return window.nwIsDebugMode()&&console.error("Cannot parse search index",t),{uri:e,title:"NOT_FOUND",desc:"",image:"",body:"",score:0}}})).filter((e=>e.score>0));return h.sort(((e,t)=>t.score-e.score)),window.nwSearchResults=h,window.nwSearchTotal=u.length,{results:h,total:window.nwSearchTotal}},(()=>{const e="found-h",t=["header.root","footer.root","script","style"];if(window.nwHighlightText=(e,n,o=document.body,r=!1)=>{const l=o.querySelectorAll("*"),a=[];for(let o of l){if(o.children.length>0||t.some((e=>o.matches(e))))continue;let l=o.innerHTML;const i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=new RegExp(`(${i})`,"gi");c.test(l)&&(l=l.replace(c,`<span class="${n}">$1</span>`),a.push(o)),o.innerHTML=l,r&&o.addEventListener("click",(function(){this.innerHTML=this.innerHTML.replace(new RegExp(`<span class="${n}">(.*?)</span>`,"gi"),"$1")}))}return a},"function"!=typeof window.nwFindParent)return console.error("window.nwFindParent not found");function n(n,o=document.body){const r=o.querySelectorAll("*"),l=splitSearch(n),a=[];for(let n of r){if(n.children.length>0||t.some((e=>n.matches(e))))continue;let o=n.innerHTML;for(const t of l){const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp(`(${r})`,"gi");l.test(o)&&(o=o.replace(l,`<span class="${e}">$1</span>`),a.push(n))}n.innerHTML=o,n.addEventListener("click",(function(){this.innerHTML=this.innerHTML.replace(new RegExp(`<span class="${e}">(.*?)</span>`,"gi"),"$1")}))}return a}function o(e){if(e.length){let t=e.reduce(((e,t)=>t.offsetTop<e.offsetTop?t:e),e[0]);return window.nwScrollTo(t),!0}return!1}(()=>{const e=document.getElementById("searchModal"),t=document.getElementById("searchInput"),o=document.getElementById("searchResults"),r=document.getElementById("searchResultTemplate"),l=document.getElementById("searchSubmit"),a=document.getElementById("searchForm"),i=document.getElementById("searchSummaryTemplate");if(!t||!o||!r)return console.error("Modal search template not found");let c=0,s=[];function d(){const e=12*c,l=e+12;s.slice(e,l).forEach((e=>{const l=r.content.cloneNode(!0);l.querySelectorAll('[nw="img"]').forEach((t=>t.setAttribute("src",e.image))),l.querySelectorAll('[nw="title"]').forEach((t=>t.textContent=e.title)),l.querySelectorAll('[nw="desc"]').forEach((t=>t.textContent=window.nwTruncateText(e.desc||e.body,255))),l.querySelectorAll('[nw="url"]').forEach((n=>{const o=`find=${encodeURIComponent(t.value)}`,r=e.uri+".html";r.includes("?")?n.setAttribute("href",`${r}&${o}`):n.setAttribute("href",`${r}?${o}`)})),l.querySelectorAll('[nw="path"]').forEach((t=>{t.innerHTML="",function(e,t=3){const n=e.split("/"),o=[];for(let e=2;e<n.length;e++){let t=n.slice(1,e).join("/");""===t&&(t+="index"),["/"+t,"/"+t+"/index"].forEach((e=>{e=e.endsWith(".html")?e.slice(0,e.length-5):e,window.nwSearchMap[e]&&o.push({uri:e+".html",title:window.nwSearchMap[e]})}))}return o.slice(-t)}(e.uri).forEach((({uri:e,title:n})=>{const o=document.createElement("li");o.classList.add("breadcrumb-item"),o.innerHTML=`<a href=${window.nwEscapeHTML(e)}>${window.nwEscapeHTML(n)}</a>`,t.appendChild(o)}));const n=document.createElement("li");n.classList.add("breadcrumb-item"),t.appendChild(n)})),o.appendChild(l);const a=o.lastElementChild;a.setAttribute("tabindex","0"),a.setAttribute("role","button"),n(t.value,a)})),o.querySelectorAll("article footer").forEach((e=>{e.scrollHeight>e.clientHeight&&e.parentElement.classList.add("overflow")})),c++}function u(e){e&&e.preventDefault(),o.innerHTML="",s=[],window.nwSearch(t.value).then((e=>{const t=e.results;c=0,s=e.results,function(e,t){if(!i)return!1;const n=i.content.cloneNode(!0);o.appendChild(n);const r=o.lastElementChild;e&&r.classList.add("found"),r.querySelectorAll('[nw="found"]').forEach((t=>t.textContent=e)),r.querySelectorAll('[nw="total"]').forEach((e=>e.textContent=t))}(t.length,e.total),d();const n=()=>{const{scrollTop:e,scrollHeight:t,clientHeight:n}=o;e+n>=t-12&&d()};o.removeEventListener("scroll",n),o.addEventListener("scroll",n)}))}o.addEventListener("keydown",(function(e){const t=Array.from(o.children),n=document.activeElement;if(t.includes(n)){if("Tab"===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();const t=Array.from(o.children),n=document.activeElement,r=t.indexOf(n);let l=0;"Tab"===e.key||"ArrowDown"===e.key?(r+1>=t.length&&d(),l=r+1<t.length?r+1:0):("ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey)&&(l=r-1>=0?r-1:t.length-1),t[l].focus()}if("Enter"===e.key){const e=n.querySelector('[nw="url"]');e&&e.click()}}})),l&&l.addEventListener("click",u),a&&a.addEventListener("submit",u),e.addEventListener("shown.bs.modal",(()=>t.focus()))})(),document.addEventListener("DOMContentLoaded",(function(){function e(e){const t=new URLSearchParams(window.location.search).get(e);return t||t}const t=e("find");if(t){o(n(t))}const r=e("findLink");if(r){const e=function(e,t=document.body){const n=t.querySelectorAll(`[href*="${e}"]`);return n.forEach((e=>e.classList.add("found-h"))),n}(r);o(Array.from(e))}}))})(),(()=>{const e={items:[],add:function(e){this.items.push(e),this.updateLocalStorage(),this.render()},has:function(e){return this.items.some((t=>t.id===e))},remove:function(e){this.items=this.items.filter((t=>t.id!==e)),this.updateLocalStorage(),this.render()},updateLocalStorage:function(){localStorage.setItem("cart",JSON.stringify(this.items))},loadLocalStorage:function(){const e=localStorage.getItem("cart");e&&(this.items=JSON.parse(e))},render:function(){document.querySelectorAll('[btn-cart="modal"]').forEach((e=>{const t=e.querySelector(".badge");t&&(t.textContent=this.items.length)})),document.querySelectorAll("[data-id]").forEach((e=>{const t=e.querySelector("[btn-cart]");window.Cart.has(e.getAttribute("data-id"))?t&&t.classList.add("active"):t&&t.classList.remove("active")}))},sampleItem:{id:"xau-1",url:"/good/uri",title:"Good title",image:"/img/path.jpg",price:300.33}};window.Cart=e,e.loadLocalStorage()})(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll("[btn-order]"),t=document.querySelectorAll("[btn-cart]"),n=document.getElementById("orderModal"),o=document.getElementById("cartModal");if(!n||!o)return;const r=new bootstrap.Modal(n),l=new bootstrap.Modal(o);function a(e){for(;e&&!e.getAttribute("data-id");)e=e.parentElement;return e}function i(e){const t=e.getAttribute("data-id"),n=e.querySelector("[data-title]").innerText,o=e.querySelector("[data-image]").getAttribute("src"),r=e.querySelector("[data-price]").innerText;return{id:t,url:location.pathname,title:n,image:o,price:r}}e.forEach((e=>{e.addEventListener("click",(function(){const e=i(a(this));n.querySelector("[data-title]").innerText=e.title,n.querySelector("[data-image]").src=e.image,n.querySelector("[data-price]").innerText=e.price,n.querySelector("[data-id]").innerText=e.id,r.show()}))})),t.forEach((e=>{if("modal"===e.getAttribute("btn-cart"))return void e.addEventListener("click",(e=>l.show()));const t=i(a(e));e.addEventListener("click",(function(){window.Cart.has(t.id)||window.Cart.add(t),this.classList.toggle("active")}))})),window.Cart.render(),n.querySelector("[type=submit]").addEventListener("click",(e=>{e.preventDefault();const t=n.querySelector('input[name="fullName"]').value,o=n.querySelector('input[name="phone"]').value,l=n.querySelector('textarea[name="comment"]').value;localStorage.setItem(LS_ORDER_FULLNAME,t),localStorage.setItem(LS_ORDER_PHONE,o),localStorage.setItem(LS_ORDER_COMMENT,l),r.hide()})),n.addEventListener("shown.bs.modal",(e=>e.target.querySelector("input").focus())),o.addEventListener("show.bs.modal",(e=>{const t=document.getElementById("cartModalRow");if(!t)return;const n=o.querySelector(".modal-body");if(!n)return;const r=document.getElementById("cartModalEmpty");r&&(n.innerHTML="",window.Cart.items.forEach((e=>{const o=t.content.cloneNode(!0);o.querySelector("[data-url]").setAttribute("href",e.url),o.querySelector("[data-title]").textContent=e.title,o.querySelector("[data-price]").textContent=e.price,o.querySelector("[data-image]").src=e.image,o.querySelector("[data-id]").setAttribute("data-id",e.id),n.appendChild(o)})),n.querySelectorAll("[cart-remove]").forEach((e=>{e.addEventListener("click",(t=>{const o=a(e),l=i(o);if(window.Cart.remove(l.id),o.remove(),!window.Cart.items.length){const e=r.content.cloneNode(!0);n.innerHTML="",n.appendChild(e)}}))})))}))})),(()=>{const e=window.nwCreateHTML;window.nwTypes||(window.nwTypes={}),window.nwTypes.nwBoolean={$name:"nwBoolean",read:function(t){const{rule:n,field:o,item:r}=t,l=e("div",{class:"value form-check form-switch form-switch-end"}),a=e("label",{class:"form-check-label"},n.title);l.appendChild(a);const i=e("input",{class:"form-check-input",name:o,type:"checkbox",role:"switch"});return!0===r[o]&&i.setAttribute("checked",!0),l.appendChild(i),l},click:function(e,t,n,o){const r=t.target&&"INPUT"===t.target.tagName;if(r||t.preventDefault(),!t.currentTarget)return void console.error("No target provided for the click event");const l=`[name="${e.field}"]`,a=r?t.target:t.currentTarget.querySelector(l);if(!a)return void console.error(`Input ${l} not found`);"checkbox"!==a.type||r||(a.checked=!a.checked);const i="checkbox"===a.type?a.checked:a.value;window.nwEditor.index.change(i,e,a),n&&n.apply(this,[i])}}})(),(()=>{const e=!1,t={},n=window.nwCreateHTML,o=window.nwL;let r,l=!1;const a={onChange:()=>{},onCancel:()=>{}};function i(e){const t=n("ul",{class:"nwe-tree list-group"});return Object.entries(e).forEach((([e,o])=>{const r=n("li",{class:"list-group-item list-group-item-action "+(o.active?"active":""),value:e,nwe:o.value,tabindex:0},o.label||e);t.appendChild(r),Object.keys(o.children).length&&r.appendChild(i(o.children))})),t}function c(n,o,r=" / "){if(!t[n]){const r=[],l=n.split("/");e&&l.unshift("");for(let e=1;e<=l.length;e++){let t=l.slice(0,e).join("/");""===t&&(t="index");const n=t.replace(/^\/+/,"")+".yaml";if(o[n]){const e=o[n].category||o[n].title||n,t=n.replace(/\.yaml$/,".html");r.push(window.nwTypes.a.read({field:"url",item:{url:t,text:e}}))}}t[n]=r}return t[n]}function s(e,t){const{data:l}=t,a=l.all||{},i=l.$l||{},s=c(e,a);let d="";return d=s?n("span",{class:"btn-group",role:"group","aria-label":o("Catalog path",i)},s,!0):n("i",{},"empty"),r instanceof HTMLElement&&r.parentElement.replaceChild(d,r),r=d,r}function d(e,t){e.preventDefault(),e.stopPropagation();const n=[this.getAttribute("value")];window.nwFindAllParents(this,"[value]",t.$aside||document.body).forEach((e=>{n.unshift(e.getAttribute("value"))}));const o=n.join("/");t.item=o,s(o,t),window.nwEditor.index.change(o,t,r),l=!1,a.onChange.apply(this,[o])}window.nwTypes||(window.nwTypes={}),window.nwTypes.nwCatalog={$name:"nwCatalog",read:function(e){const{item:t,field:o,data:l,rule:a}=e,i=t[o],c=n("div",{class:"value"}),d=n("label",{class:"form-label"},a.title);return c.appendChild(d),s(i,e),c.appendChild(r),c.addEventListener("click",window.nwTypes.nwComponent.allowLinksOnClick),c},path:c,edit:function(e,t,n,o){if(a.onChange=n,a.onCancel=o,l=!l,!l)return!1;const r=i(function(e,t){const n={};return Object.keys(e).forEach((o=>{let r=n;o.split("/").forEach(((n,l,a)=>{if(!r[n]){const i=a.join("/");r[n]={label:l===a.length-1?e[o]:void 0,active:i===t,value:i,children:{}}}r=r[n].children}))})),n}(e.data.categories||{},e.item));return r.querySelectorAll("[value]").forEach((t=>t.addEventListener("click",(function(t){d.apply(this,[t,e])})))),{$element:r,onAttach:()=>{}}}}})(),(()=>{const e=window.nwCreateHTML,t={onChange:()=>{},onCancel:()=>{}};let n,o=!1;function r(t,o){const r=t.split(" "),l=(o.allow||[]).flatMap((e=>e.split(" "))),a=[];for(const t of r){const n=e("span",{class:"badge me-2 bg-"+(l.includes(t)?"success":"danger")},t);a.push(n)}const i=e("span",{},a,!0);return n instanceof HTMLElement&&n.parentElement.replaceChild(i,n),n=i,n}window.nwTypes||(window.nwTypes={}),window.nwTypes.nwClassList={$name:"nwClassList",read:function(t){const{field:n,item:o,rule:l}=t,a=e("div",{class:"value"}),i=e("label",{class:"form-label"},l.title);return a.appendChild(i),a.appendChild(r(o[n],l)),a},edit:function(n,l,a,i){if(t.onChange=a,t.onCancel=i,o=!o,!o)return!1;const c=function(t){const{field:n,item:o,rule:r}=t,l=o.split(" "),a=e("div",{class:"value"}),i=e("label",{class:"form-label mb-3"},r.title);a.appendChild(i);const c=e("div",{class:"row"});return(r.allow||[]).forEach((t=>{t.split(" ").forEach((t=>{const o=e("div",{class:"col-6 col-xl-4"}),r=e("div",{class:"form-check"}),a=e("input",{class:"form-check-input",type:"checkbox",name:`${n}[]`,value:t,id:`checkbox-${t}`});l.includes(t)&&a.setAttribute("checked",!0);const i=e("label",{class:"form-check-label",for:`checkbox-${t}`},t);r.appendChild(a),r.appendChild(i),o.appendChild(r),c.append(o)}));const o=e("div",{class:"col-12"},"<hr>",!0);c.append(o)})),a.appendChild(c),a}(n);return function(e,n){e.addEventListener("change",(function(e){if(!e.target.matches('input[type="checkbox"]'))return;const o=Array.from(this.querySelectorAll('input[type="checkbox"]:checked')).map((e=>e.value));n.item=""+o.join(" ");const l=r(n.item,n.rule);window.nwEditor.index.change(n.item,n,l),t.onChange.apply(this,[n.item,!0])}))}(c,n),{$element:c,onAttach:()=>c.focus()}}}})(),(()=>{const e=window.nwCreateHTML,t={};function n(e){const t=[];return e.input?.loaded&&t.push(e.input?.loaded),e.field&&t.push(e.field),t.join("/")}const o={$name:"nwComponent",read:t=>{const{field:n,item:o,rule:r}=t,l=e("label",{class:"form-label"},r.title||r.name),a=e("span",{},""+o[n]);return e("div",{class:"value"},[l,a],!0)},allowLinksOnClick:function(e){if(!e.target)return;const t=window.nwFindParent(e.target,"a",this);t&&(t.href&&window.open(t.href,"_blank").focus(),e.preventDefault(),e.stopPropagation())},setViewItem:function(e,o,r=!1){const l=n(o);return r&&t[l]&&t[l].parentElement&&t[l].parentElement.removeChild(t[l]),t[l]&&t[l].parentElement&&t[l].parentElement.replaceChild(e,t[l]),t[l]=e,t[l]},getViewItem:function(e){return t[n(e)]||null},getAllViewItems:function(){return t},isActiveRow:function(e,t){if(!e.target)return!1;const n=e.target.matches("[nwe]")?e.target:window.nwFindParent(e.target,"[nwe]");return!!n&&n.classList.contains("active")},deactivateRow:function(e){if(!e.target)return!1;const t=e.target.matches("[nwe]")?e.target:window.nwFindParent(e.target,"[nwe]");return!!t&&t.classList.remove("active")}};window.nwTypes||(window.nwTypes={}),window.nwTypes.nwComponent=o})(),(()=>{const e=window.nwCreateHTML,t=window.nwTypes.nwComponent,n={onChange:()=>{},onCancel:()=>{}};function o(n,o){const r=e("span",{class:"form-control"},n.join(", "));return t.setViewItem(r,o)}function r(e,t){e.preventDefault(),e.stopPropagation(),t.item=(""+this.value.trim()).split("\n");const r=o(t.item,t);window.nwEditor.index.change(t.item,t,r),n.onChange.apply(this,[t.item])}window.nwTypes||(window.nwTypes={}),window.nwTypes.nwFileUris={$name:"nwFileUris",read:function(t){const{rule:n,field:r,item:l}=t,a=e("div",{class:"value "+(n.disabled?"disabled":"")}),i=e("label",{class:"form-label"},n.title);return a.appendChild(i),a.appendChild(o(l[r],t)),a},edit:function(o,l,a,i){if(t.isActiveRow(l,o))return t.deactivateRow(l),{$element:null};console.log(l.target,l),n.onChange=a,n.onCancel=i;const c=o.item.join("\n"),s=e("textarea",{class:"form-control",rows:9},c,!0);return o.rule?.disabled&&s.setAttribute("disabled",!0),s.addEventListener("keyup",(function(e){e.metaKey&&"Enter"===e.key&&r.apply(this,[e,o])})),s.addEventListener("blur",(function(e){r.apply(this,[e,o])})),{$element:s,onAttach:()=>s.focus()}}}})(),(()=>{const e=window.nwCreateHTML,t=window.nwL,n={onChange:()=>{},onCancel:()=>{}};let o,r=!1;const l={$name:"a",read:t=>{const{field:n,item:o}=t,r=o[n],l=e("i",{class:"nwi-external-link me-2"}),a=e("span",{},o.text||r);return e("a",{href:r,target:"_blank",class:o.class||"btn btn-xs btn-outline-success"},[l,a],!0)}};function a(e,t,l=!1){l&&(e.preventDefault(),e.stopPropagation()),"INPUT"===this.tagName&&(t.item=this.value.trim(),i(t.item),window.nwEditor.index.change(t.item,t,o)),r=!l,n.onChange.apply(this,[t.item,r])}function i(e){const t=l.read({field:"href",item:{href:e}});return o instanceof HTMLElement&&o.parentElement.replaceChild(t,o),o=t,o}const c={$name:"nwUrl",read:(t,n=!1)=>{const{field:o,item:r,rule:l}=t,a=""+r[o];console.log(a);const c=l.title||l.name,s=e("label",{class:"form-label"},c),d=e("div",{class:"value"});return d.appendChild(s),d.appendChild(i(a)),d.addEventListener("click",window.nwTypes.nwComponent.allowLinksOnClick),d},edit:(o,l,i,c)=>{if(n.onChange=i,n.onCancel=c,r=!r,!r)return!1;const s=function(n){const o=e("div",{class:"value"}),r=`nwUrl-${n.field}`,l=e("label",{class:"form-label mb-3",for:r},n.rule?.title);o.appendChild(l);const a=e("input",{class:"form-control",type:"url",name:n.field,id:r,value:n.item,placeholder:n.rule?.placeholder||""});n.rule?.disabled&&a.setAttribute("disabled",!0);const i=e("div",{class:"input-group"});i.appendChild(a);const c=e("span",{},t("Accept btn",n.data?.$l||{})),s=e("button",{class:"btn btn-outline-success",type:"button"});return s.appendChild(c),i.appendChild(s),o.appendChild(i),o}(o);return function(e,t){e.addEventListener("keydown",(function(e){e.target&&"INPUT"===e.target.tagName&&"Enter"===e.key&&a.apply(e.target,[e,t,!0])})),e.addEventListener("keyup",(function(e){e.target&&"INPUT"===e.target.tagName&&"Enter"!==e.key&&a.apply(e.target,[e,t,!1])})),e.addEventListener("blur",(function(e){e.target&&"INPUT"===e.target.tagName&&a.apply(e.target,[e,t,!0])})),e.addEventListener("click",(function(e){e.target&&"BUTTON"===e.target.tagName&&a.apply(e.target,[e,t,!0])}))}(s,o),{$element:s,onAttach:()=>s.querySelector("input").focus()}}};window.nwTypes||(window.nwTypes={}),window.nwTypes.a=l,window.nwTypes.nwUrl=c})();